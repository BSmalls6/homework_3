<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Password Generator</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
  <header class="container">
    <div class="row ml-5">
      <div class="col-lg-12" align="center">
        <h1 class="h1">Password Generator</h1>
      </div>
    </div>
  </header>

  <section class="container bg-light p-2 m-auto border" align="center">

    <div class="row justify-content-center">
      <div class="col-lg-4 bg-light pb-3 mb-4 border-bottom">
        <h2 class="h2 text-muted">Generate a Password</h2>
      </div>
    </div>

    <div class="col-lg-12" align="center">
      <textarea class="form-control text-center m-4" row="10" readonly id="passwordbox"
        placeholder="Your Secure Password" aria-label="Generated Password" style="max-width: 300px;"></textarea>
    </div>

    <button onclick="generatePw()" class="btn btn-danger justify-content-center m-3" id="generate">
      Generate Password
    </button>
    <button onclick="doCopy()" class="btn btn-danger justify-content-center m-3" id="copy">
      Copy to Clipboard
    </button>
  </section>



  <script type="text/javascript">

    // Character Sets
    var char_type = ["special", "upper", "lower", "number"];
    special = "!#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";
    upper = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    lower = "abcdefghijklmnopqrstuvwxyz";
    number = "0123456789";


    var passwordlength = null;
   

    // Generate password
    function generatePw() {


      length = prompt("how many characters do you wish to have? Please select a value between 5 and 128");
    console.log(length);

    // Check length

    // confirm CharSet
    var charSpec = confirm("Do you want special characters?");
    var charNum = confirm("Do you want numbers?");
    var charCap = confirm("do you want capital letters");
    var charLow = confirm("Do you want lowercase letters?");

      var password = "";
      while (password.length < length) {
        var pick = null;
        var type = char_type[Math.floor(Math.random() * char_type.length)];
        if (type === "special" && charSpec) {
          pick = special[Math.floor(Math.random() * special.length)];
        }
        else if (type === "upper" && charCap) {
          pick = upper[Math.floor(Math.random() * upper.length)];
        }

        else if (type === "lower" && charLow) {
          pick = lower[Math.floor(Math.random() * lower.length)];
        }

        else if (type === "number" && charNum) {
          pick = number[Math.floor(Math.random() * number.length)];
        }
if (pick !== null) password += pick;
      }
       // Put password in box:
    document.getElementById("passwordbox").innerHTML = password;
    }

    


   

    // }

    function doCopy() {
      var container = document.querySelector("textarea");
      var textarea = document.createElement("textarea");
      container.insertBefore(textarea, container.firstChild);
      textarea.value = currentPassword;
      textarea.focus();
      textarea.select();
      document.execCommand("copy");
      container.removeChild(textarea);
    }


  </script>
</body>

</html>